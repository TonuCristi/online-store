<app-auth-form-wrapper>
  <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
    <h2>Login</h2>
    @for(input of inputs;track input.name) {
    <app-form-field [label]="input.label" [for]="input.for">
      <input
        appInput
        [id]="input.for"
        [type]="input.type"
        [placeholder]="input.placeholder"
        [formControlName]="input.name"
      />
      @if(getControlError(input.name)){
      <app-message variant="error">{{ getControlError(input.name) }}</app-message>
      }
    </app-form-field>
    }
    <button
      appButton
      variant="primary"
      type="submit"
      size="full"
      class="login-btn"
      [disabled]="!isFormValid || isLoginLoading"
    >
      Login
    </button>
    @if(getFormError()){
    <div class="message-wrapper">
      <app-message variant="error">{{ getFormError() }}</app-message>
    </div>
    }
    <a [routerLink]="['/register']">Don't have an account? Register</a>
  </form>
</app-auth-form-wrapper>
