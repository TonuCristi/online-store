<app-auth-form-wrapper>
  <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
    <h2>Register</h2>
    @for(input of inputs;track input.name) {
    <div class="input-container">
      <label [for]="input.for">{{ input.label }}</label>
      <input
        [id]="input.for"
        [type]="input.type"
        [placeholder]="input.placeholder"
        [formControlName]="input.name"
      />
      @if(getControlError(input.name)){
      <app-message variant="error">{{ getControlError(input.name) }}</app-message>
      }
    </div>
    }
    <div class="btn-wrapper">
      <button
        appButton
        variant="primary"
        type="submit"
        size="full"
        disabled="!isFormValid || isRegisterLoading()"
      >
        Register
      </button>
    </div>
    @if(getFormError()){
    <div class="message-wrapper">
      <app-message variant="error">{{ getFormError() }}</app-message>
    </div>
    }
    <a [routerLink]="['/login']">Have an account? Login</a>
  </form>
</app-auth-form-wrapper>
